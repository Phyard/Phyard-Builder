<?xml version="1.0" encoding="utf-8"?>
<!-- Simple custom MXML TitleWindow component.
     The TitleWindowApp application displays this component. 
     You cannot run it independently. -->

<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml"
      borderStyle="solid" borderThickness="0"
      width="100%" height="100%"
      creationComplete="OnInitPanel()"
      >
      <mx:VBox height="100%" width="100%">
         <mx:HBox width="100%">
            <mx:Spacer width="100%"/>
            <mx:CheckBox id="CheckBox_Bold" label="Bold"/>
            <mx:CheckBox id="CheckBox_Italic" label="Italic"/>
            <mx:Label text="Font Size:"/>
            <mx:ComboBox id="SelectList_FontSize"/>
            <mx:Label text="Text Color:"/>
            <mx:ColorPicker id="ColorPicker_TextColor" showTextField="true" selectedColor="0x000000"/>
         </mx:HBox>
         <mx:HBox width="100%">
            <mx:Label text="The text:"/>
            <mx:Spacer width="100%"/>
            <mx:CheckBox id="CheckBox_AdaptiveBackgroundSize" label="Adaptive Background Size" click="OnChangeAdaptiveBackgroundSize ()"/>
            <mx:CheckBox id="CheckBox_WordWrap" label="Word Wrap"/>
         </mx:HBox>
         <mx:HBox width="100%">
            <mx:TextArea id="TextArea_Text" width="100%" height="200" editable="true" wordWrap="true">
               <mx:text>
               </mx:text>
            </mx:TextArea>
         </mx:HBox>
      </mx:VBox>


   <mx:Script>
     <![CDATA[       
         
         import common.Define;
         
         private var mInputValues:Object;

         private var mFontSizes:Array = [
               {label:8}, 
               {label:9}, 
               {label:10},
               {label:11},
               {label:12},
               {label:14},
               {label:16},
               {label:18},
               {label:20},
               {label:22},
               {label:24},
               {label:26},
               {label:28},
               {label:36},
               {label:48},
               {label:72},
            ];
         
         private function OnInitPanel ():void
         {
         }

         private function OnChangeAdaptiveBackgroundSize ():void
         {
            if (CheckBox_AdaptiveBackgroundSize.selected)
            {
               CheckBox_WordWrap.selected = false;
               CheckBox_WordWrap.enabled = false;
            }
            else
            {
               CheckBox_WordWrap.enabled = true;
            }
         }
         
         public function SetValues (inputValues:Object):void
         {
            var selectedIndex:int = 2;
            var fontSize:int = inputValues.mFontSize;
            for (var i:int = 0; i < mFontSizes.length; ++ i)
            {
               if (mFontSizes[i].label == fontSize)
                  selectedIndex = i;
            }
            SelectList_FontSize.dataProvider = mFontSizes;
            SelectList_FontSize.selectedIndex = selectedIndex;

            CheckBox_Bold.selected = inputValues.mIsBold;
            CheckBox_Italic.selected = inputValues.mIsItalic;
            CheckBox_WordWrap.selected = inputValues.mWordWrap;
            ColorPicker_TextColor.selectedColor = inputValues.mTextColor;
            CheckBox_AdaptiveBackgroundSize.selected = inputValues.mAdaptiveBackgroundSize;
            
            TextArea_Text.text = inputValues.mText;

            OnChangeAdaptiveBackgroundSize ();
         }
         
         public function GetValues (returnValues:Object):void
         {
            returnValues.mAdaptiveBackgroundSize = CheckBox_AdaptiveBackgroundSize.selected;
            returnValues.mWordWrap = CheckBox_WordWrap.selected;
            returnValues.mTextColor = ColorPicker_TextColor.selectedColor;
            returnValues.mFontSize = mFontSizes [SelectList_FontSize.selectedIndex].label;
            returnValues.mIsBold = CheckBox_Bold.selected;
            returnValues.mIsItalic = CheckBox_Italic.selected;
            
            returnValues.mText = TextArea_Text.text;
         }
         
     ]]>
   </mx:Script>
   
</mx:VBox>
